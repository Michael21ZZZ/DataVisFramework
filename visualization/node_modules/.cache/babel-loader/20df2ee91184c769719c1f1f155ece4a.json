{"ast":null,"code":"var _jsxFileName = \"/Users/ZHANGRY/Codes/17514/hw6-analytics-framework-tp-link/visualization/src/plugins/WordCloudPlugin.tsx\";\nimport React from 'react';\nimport './WordCloudPlugin.css';\nimport WordCloud from 'react-d3-cloud';\nfunction WordCloudPlugin() {\n  var name = \"WordCloud\";\n  return {\n    getName: function getName() {\n      return name;\n    },\n    getContent: function getContent(resume) {\n      var wordCountMap = new Map(Object.entries(resume.wordCount));\n      var words = Array.from(wordCountMap.keys());\n      var freq = Array.from(wordCountMap.values());\n      var stopwords = ['i', 'me', 'my', 'myself', 'we', 'our', 'ours', 'ourselves', 'you', 'your', 'yours', 'yourself', 'yourselves', 'he', 'him', 'his', 'himself', 'she', 'her', 'hers', 'herself', 'it', 'its', 'itself', 'they', 'them', 'their', 'theirs', 'themselves', 'what', 'which', 'who', 'whom', 'this', 'that', 'these', 'those', 'am', 'is', 'are', 'was', 'were', 'be', 'been', 'being', 'have', 'has', 'had', 'having', 'do', 'does', 'did', 'doing', 'a', 'an', 'the', 'and', 'but', 'if', 'or', 'because', 'as', 'until', 'while', 'of', 'at', 'by', 'for', 'with', 'about', 'against', 'between', 'into', 'through', 'during', 'before', 'after', 'above', 'below', 'to', 'from', 'up', 'down', 'in', 'out', 'on', 'off', 'over', 'under', 'again', 'further', 'then', 'once', 'here', 'there', 'when', 'where', 'why', 'how', 'all', 'any', 'both', 'each', 'few', 'more', 'most', 'other', 'some', 'such', 'no', 'nor', 'not', 'only', 'own', 'same', 'so', 'than', 'too', 'very', 's', 't', 'can', 'will', 'just', 'don', 'should', 'now', 'within'];\n      var data = [];\n      for (var i = 0; i < words.length; i++) {\n        if (!words[i] in stopwords) {}\n        data.push({\n          text: words[i],\n          value: freq[i]\n        });\n      }\n      // data.sort((d1, d2)=> { return d2.count - d1.count});\n      // data = data.slice(0, 30);\n      // data.sort((d1, d2)=>{ \n      //     if (d1.word < d2.word) {\n      //         return -1\n      //     }\n      //     return 1\n      // });\n\n      return /*#__PURE__*/React.createElement(WordCloud, {\n        data: data,\n        width: 500,\n        height: 500,\n        fontSize: function fontSize(word) {\n          return Math.log2(word.value) * 20;\n        }\n        //spiral=\"rectangular\"\n        //rotate={(word) => word.value * 100 % 180 - 90}\n        //random={Math.random}\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }\n      });\n    }\n  };\n}\nexport default WordCloudPlugin;","map":{"version":3,"names":["React","WordCloud","WordCloudPlugin","name","getName","getContent","resume","wordCountMap","Map","Object","entries","wordCount","words","Array","from","keys","freq","values","stopwords","data","i","length","push","text","value","word","Math","log2"],"sources":["/Users/ZHANGRY/Codes/17514/hw6-analytics-framework-tp-link/visualization/src/plugins/WordCloudPlugin.tsx"],"sourcesContent":["import React from 'react';\nimport './WordCloudPlugin.css';\nimport PersonalPagePlugin from '../framework/PersonalPagePlugin';\nimport Resume from '../framework/Resume';\nimport WordCloud from 'react-d3-cloud';\n\nfunction WordCloudPlugin(): PersonalPagePlugin {\n    const name: string = \"WordCloud\"\n\n    return {\n        getName(): string {\n            return name;\n        },\n\n        getContent(resume: Resume): JSX.Element {\n            const wordCountMap = new Map(Object.entries(resume.wordCount))\n            \n            const words = Array.from(wordCountMap.keys())\n            const freq = Array.from(wordCountMap.values())\n            const stopwords = ['i', 'me', 'my', 'myself', 'we', 'our',\n            'ours', 'ourselves', 'you', 'your', 'yours',\n            'yourself', 'yourselves', 'he', 'him',\n            'his', 'himself', 'she', 'her', 'hers',\n            'herself', 'it', 'its', 'itself', 'they',\n            'them', 'their', 'theirs', 'themselves',\n            'what', 'which', 'who', 'whom', 'this',\n            'that', 'these', 'those', 'am', 'is',\n            'are', 'was', 'were', 'be', 'been',\n            'being', 'have', 'has', 'had',\n            'having', 'do', 'does', 'did', 'doing',\n            'a', 'an', 'the', 'and', 'but', 'if', 'or',\n            'because', 'as', 'until', 'while', 'of', 'at',\n            'by', 'for', 'with', 'about', 'against', 'between',\n            'into', 'through', 'during', 'before', 'after', 'above',\n            'below', 'to', 'from', 'up', 'down',\n            'in', 'out', 'on', 'off', 'over', 'under',\n            'again', 'further', 'then', 'once', 'here',\n            'there', 'when', 'where', 'why', 'how', 'all',\n            'any', 'both', 'each', 'few', 'more', 'most',\n            'other', 'some', 'such', 'no', 'nor', 'not',\n            'only', 'own', 'same', 'so', 'than', 'too',\n            'very', 's', 't', 'can', 'will', 'just',\n            'don', 'should', 'now', 'within']\n\n            let data: any[] = []\n\n            for (var i = 0; i < words.length; i++) {\n                if (!words[i] in stopwords)\n                {\n                    \n                }\n\n                data.push({ text: words[i], value: freq[i] })\n            }\n            // data.sort((d1, d2)=> { return d2.count - d1.count});\n            // data = data.slice(0, 30);\n            // data.sort((d1, d2)=>{ \n            //     if (d1.word < d2.word) {\n            //         return -1\n            //     }\n            //     return 1\n            // });\n\n            return (\n            <WordCloud \n                data={data}\n                width={500}\n                height={500}\n                fontSize={(word) => Math.log2(word.value) * 20} \n                //spiral=\"rectangular\"\n                //rotate={(word) => word.value * 100 % 180 - 90}\n                //random={Math.random}\n            />\n\n            )\n        }\n    }\n\n}\n\nexport default WordCloudPlugin;"],"mappings":"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"},"metadata":{},"sourceType":"module"}